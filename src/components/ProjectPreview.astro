---
import { type CollectionEntry } from 'astro:content';
import ArrowRight from '../assets/icons/arrow-right.svg';

type Props = { project: CollectionEntry<'projects'>; class?: string; headingLevel?: 'h2' | 'h3' };

const { project, class: className, headingLevel = 'h2' } = Astro.props;
const { title, description } = project.data;
const TitleTag = headingLevel;
---

<a 
    class:list={[
        'project-card group block relative p-6 -mx-4 rounded-xl transition-all duration-300 ease-out', 
        className
    ]} 
    href={`/projects/${project.id}/`}
>
    <div class="flex items-center justify-between gap-8">
        <div class="grow">
            <TitleTag class="project-title font-bold leading-tight transition-all duration-300 group-hover:text-blue-600 group-hover:translate-x-1">
                {title}
            </TitleTag>
            
            {description && (
                /* Eliminamos line-clamp-2 para que se vea el texto completo */
                <div class="mt-3 text-sm leading-relaxed text-gray-600 dark:text-gray-400 transition-colors group-hover:text-gray-900 dark:group-hover:text-gray-200">
                    {description}
                </div>
            )}
        </div>

        <div class="flex-none flex items-center gap-2 text-sm font-bold uppercase tracking-widest text-blue-600 opacity-0 transform translate-x-4 transition-all duration-300 group-hover:opacity-100 group-hover:translate-x-0">
            <span class="hidden sm:inline text-xs">Explorar</span>
            <div class="bg-blue-600 text-white p-2 rounded-full shadow-lg">
                <ArrowRight class="h-4 w-4 fill-current" />
            </div>
        </div>
    </div>
</a>

<style>
    .project-card {
        font-family: 'Inter', sans-serif;
        border-left: 3px solid #f3f4f6;
    }

    .project-card:hover {
        border-left-color: #3b82f6;
        background: linear-gradient(90deg, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0.01) 100%);
        transform: translateX(8px);
    }

    :global(.dark) .project-card:hover {
        background: linear-gradient(90deg, rgba(59, 130, 246, 0.12) 0%, rgba(24, 24, 27, 0) 100%);
    }

    .project-title {
        font-size: 1.25rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        color: #111827;
    }

    :global(.dark) .project-title {
        color: #f3f4f6;
    }
</style>